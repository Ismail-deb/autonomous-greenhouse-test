#include <Arduino.h>
#include <Servo.h>

Servo myServo;
const int servoPin = 16; // Use the GPIO pin you connected the servo signal to

void setup() {
  Serial.begin(115200);
  myServo.attach(servoPin);

  // Initial position for calibration: Start at a known angle
  myServo.write(90); // Start at 90 degrees (mid-point for many servos)
  Serial.println("Servo calibration mode. Adjust physical linkage.");
  Serial.println("Enter angle (0-180) in Serial Monitor to move servo.");
}

void loop() {
  // Calibration: Read angle from Serial Monitor
  if (Serial.available()) {
    String input = Serial.readStringUntil('\n');
    int angle = input.toInt();
    if (angle >= 0 && angle <= 180) {
      myServo.write(angle);
      Serial.print("Moving servo to: ");
      Serial.println(angle);
    } else {
      Serial.println("Invalid angle. Please enter a value between 0 and 180.");
    }
  }

  // You can also add simple test movements here if not using Serial Monitor for calibration
  // myServo.write(0);
  // delay(2000);
  // myServo.write(180);
  // delay(2000);
}
